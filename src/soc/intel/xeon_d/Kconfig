# SPDX-License-Identifier: GPL-2.0-or-later

source "src/soc/intel/xeon_d/skx/Kconfig"

config XEON_D_COMMON_BASE
	bool

config SOC_INTEL_SKYLAKE_D
	bool
	select XEON_D_COMMON_BASE
	select PLATFORM_USES_FSP2_0
	help
	  Intel Skylake-D support

if XEON_D_COMMON_BASE

config	CPU_SPECIFIC_OPTIONS
	def_bool y
	select ARCH_X86
	select ACPI_INTEL_HARDWARE_SLEEP_VALUES
	select ARCH_ALL_STAGES_X86_32
	select BOOT_DEVICE_SUPPORTS_WRITES
	select CPU_INTEL_COMMON
	select CPU_INTEL_FIRMWARE_INTERFACE_TABLE
	select USES_MICROCODE_HEADER_FILES
	select CPU_MICROCODE_CBFS_EXTERNAL_HEADER
	select DRIVERS_UART
	select DRIVERS_UART_8250IO
	select CONSOLE_SERIAL
	select DEFAULT_CONSOLE_LOGLEVEL_8
#	select USE_CPU_MICROCODE_CBFS_BINS
	select FSP_PLATFORM_MEMORY_SETTINGS_VERSIONS
	select FSP_T_XIP
	select FSP_M_XIP
	select POSTCAR_STAGE
	select IOAPIC
	select PARALLEL_MP
	select REG_SCRIPT
	select INTEL_DESCRIPTOR_MODE_CAPABLE
	select SOC_INTEL_COMMON
	select SOC_INTEL_COMMON_SERVER
	select SOC_INTEL_COMMON_BLOCK
	select SOC_INTEL_COMMON_BLOCK_ACPI
	select SOC_INTEL_COMMON_BLOCK_ACPI_GPIO
	select SOC_INTEL_COMMON_BLOCK_CHIP_CONFIG
	select SOC_INTEL_COMMON_BLOCK_CPU
	select SOC_INTEL_COMMON_BLOCK_CPU_MPINIT
	select SOC_INTEL_COMMON_BLOCK_CPU_SMMRELOCATE
	select SOC_INTEL_COMMON_BLOCK_DMI
	select SOC_INTEL_COMMON_BLOCK_FAST_SPI
	select SOC_INTEL_COMMON_BLOCK_GPIO
	select SOC_INTEL_COMMON_BLOCK_GPIO_DUAL_ROUTE_SUPPORT
	select SOC_INTEL_COMMON_BLOCK_GPIO_PADCFG_PADTOL
	select SOC_INTEL_COMMON_BLOCK_ITSS
	select SOC_INTEL_COMMON_BLOCK_LPC
	select SOC_INTEL_COMMON_BLOCK_LPC_MIRROR_TO_DMI
	select SOC_INTEL_COMMON_BLOCK_RTC
	select SOC_INTEL_COMMON_BLOCK_SA_XEON
	select SOC_INTEL_COMMON_BLOCK_SATA
	select SOC_INTEL_COMMON_BLOCK_SGX
	select SOC_INTEL_COMMON_BLOCK_SMBUS
	select SOC_INTEL_COMMON_BLOCK_SMM
	select SOC_INTEL_COMMON_BLOCK_SPI
	select SOC_INTEL_COMMON_BLOCK_P2SB
	select SOC_INTEL_COMMON_BLOCK_PCIE
	select SOC_INTEL_COMMON_BLOCK_PMC
	select SOC_INTEL_COMMON_BLOCK_PMC_DISCOVERABLE
	select SOC_INTEL_COMMON_BLOCK_THERMAL
	select SOC_INTEL_COMMON_BLOCK_TIMER
	select SOC_INTEL_COMMON_BLOCK_TCO
	select SOC_INTEL_COMMON_BLOCK_XHCI
	select SOC_INTEL_COMMON_RESET
        select SOUTHBRIDGE_INTEL_COMMON_SMBUS
	select SSE2
#	select SUPPORT_CPU_UCODE_IN_CBFS
	select TSC_MONOTONIC_TIMER
	select TPM_STARTUP_IGNORE_POSTINIT if INTEL_TXT
	select UDELAY_TSC
	select FSP_CAR
	select SMM_TSEG
#	select HAVE_SMI_HANDLER
#	select X86_SMM_LOADER_VERSION2
	select REG_SCRIPT
	select NO_FSP_TEMP_RAM_EXIT
	select INTEL_CAR_NEM # For postcar only now

config MAINBOARD_USES_FSP2_0
	  bool
	  default y

config MAINBOARD_USES_IFD_GBE_REGION
	bool
	default y

config MAINBOARD_USES_IFD_EC_REGION
	bool
	default n

config MAINBOARD_USES_IFD_10GB_REGION
	bool
	default y

config MAINBOARD_USES_IFD_10GB_2_REGION
	bool
	default y

config USE_FSP2_0_DRIVER
	  def_bool y
	  depends on MAINBOARD_USES_FSP2_0
	  select PLATFORM_USES_FSP2_0
	  select UDK_202005_BINDING
	  select POSTCAR_STAGE

config MAX_SOCKET
	int
	default 1

config MAX_CPUS
	int
	default 8

config PCR_BASE_ADDRESS
	hex
	default 0xfd000000
	help
	  This option allows you to select MMIO Base Address of sideband bus.

config DCACHE_BSP_STACK_SIZE
	hex
	default 0x10000

config MMCONF_BASE_ADDRESS
	default 0xC0000000

config MMCONF_BUS_NUMBER
	default 256

config HEAP_SIZE
	hex
	default 0x80000

config MAX_ROOT_PORTS
	int
	default 24

config IFD_CHIPSET
	string
	default "sklkbl"

endif ## SOC_INTEL_XEON_D
